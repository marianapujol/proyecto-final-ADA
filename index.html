<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rick & Morty</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
 <link rel="shortcut icon" href="imagenes/icon.png" type="icono">
  </head>

  <body>

    <nav class="navbar bg-dark mb-4">
      <div class="container-fluid">
          <div class="navbar-header ">
              <a class="navbar-brand text-bg-dark" href="#">
                  <span>
                      <img class="mb-1" src="imagenes/icon.png"
                          alt="rick" width="40">
                  </span>
                 <b>Personajes</b>
              </a>
          </div>
          <form class="d-flex" role="buscar">
              <input class="form-control me-2" type="Buscar" placeholder="Buscar" aria-label="Buscar">
              <button class="btn btn-outline-light" type="submit">Buscar</button>
          </form>
      </div>
  </nav>

  <div class="container text-center">
    <div id ="cardContainer" class="row g-2">
      <!-- aca van las tarjetas con los personajes -->
    </div>
  </div>

    <nav aria-label="Page navigation" class="py-4">
      <ul class="pagination justify-content-center">
        <li id="previo" class="page-item"><a class="page-link disabled" href="#">Anterior</a></li>
        <li id="Siguiente" class="page-item"><a class="page-link" href="#">Siguiente</a></li>
      </ul>
    </nav>

    <footer>
      <div class="footer bg-dark py-1 px-3">
        <p>Proyecto final de <strong>Mariana Pujol</strong></p>
        <p>Diciembre de 2022</p>
      </div>
    </footer>

    
    <script src="api.js"></script>

    <script>
      
      window.onload = async () => {

        let page = await fetchPage(1)
        addCharacterCards(page.results)

      }

      async function fetchPage(pageNumber) {
        const response = await fetch(`https://rickandmortyapi.com/api/character/?page=${pageNumber}`)
        const data = await response.json()
        return data
      }

      function addCharacterCards(characters) {
        let cards = ''

        for(let i = 0; i < characters.length; i++){
          let character = characters[i]
          cards += createCharacterCard(character)
        }

        
        let cardContainer = document.getElementById('cardContainer')
        cardContainer.insertAdjacentHTML('beforeend', cards)
      }

      function createCharacterCard(character){
        let card = `
          <div class="character-card col-3">
            <div class="p-3">
              <div class="card" style="width: 18rem;">
                <img src="${character.image}" alt="img">
                <div class="card-body">
                  <h5 class="card-title">${character.name} <spa class="text-muted">#${character.id}</span></h5> 
                  <div class="container py-3">
                    <dl class="row my-1"> 
                      <dt class="col-6">Specie:</dt>
                      <dd class="col-6">${character.species}</dd>
                    </dl>
                    <dl class="row my-1"> 
                      <dt class="col-6">Status:</dt>
                      <dd class="col-6">${character.status}</dd>
                    </dl>
                    <dl class="row my-1"> 
                      <dt class="col-6">Gender:</dt>
                      <dd class="col-6">${character.gender}</dd>
                    </dl>
                  </div>
                </div>
              </div>
            </div>
          </div>
         `
         return card
      }

    </script>
  </body>
</html>